import{_ as a,c as r,o,aj as t}from"./chunks/framework.HLg5PcC2.js";const b=JSON.parse('{"title":"Abstract Class: DatabaseEngine","description":"","frontmatter":{},"headers":[],"relativePath":"reference/js-bao/api/classes/DatabaseEngine.md","filePath":"reference/js-bao/api/classes/DatabaseEngine.md"}'),d={name:"reference/js-bao/api/classes/DatabaseEngine.md"};function s(n,e,c,l,i,h){return o(),r("div",null,[...e[0]||(e[0]=[t('<p><a href="./../README.html"><strong>js-bao</strong></a></p><hr><p><a href="./../globals.html">js-bao</a> / DatabaseEngine</p><h1 id="abstract-class-databaseengine" tabindex="-1">Abstract Class: DatabaseEngine <a class="header-anchor" href="#abstract-class-databaseengine" aria-label="Permalink to “Abstract Class: DatabaseEngine”">​</a></h1><p>Abstract class defining the interface for database engines. This allows for different database implementations (e.g., SQL.js, DuckDB) to be used interchangeably.</p><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to “Constructor”">​</a></h3><blockquote><p><strong>new DatabaseEngine</strong>(): <code>DatabaseEngine</code></p></blockquote><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>DatabaseEngine</code></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="createstringsetjunctiontable" tabindex="-1">createStringSetJunctionTable() <a class="header-anchor" href="#createstringsetjunctiontable" aria-label="Permalink to “createStringSetJunctionTable()”">​</a></h3><blockquote><p><strong>createStringSetJunctionTable</strong>(<code>_modelName</code>, <code>_fieldName</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname" tabindex="-1">_modelName <a class="header-anchor" href="#modelname" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="fieldname" tabindex="-1">_fieldName <a class="header-anchor" href="#fieldname" aria-label="Permalink to “_fieldName”">​</a></h5><p><code>string</code></p><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="createtable" tabindex="-1">createTable() <a class="header-anchor" href="#createtable" aria-label="Permalink to “createTable()”">​</a></h3><blockquote><p><strong>createTable</strong>(<code>_modelName</code>, <code>_schema</code>, <code>_options</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-1" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-1" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="schema" tabindex="-1">_schema <a class="header-anchor" href="#schema" aria-label="Permalink to “_schema”">​</a></h5><p><code>Map</code>&lt;<code>string</code>, <code>any</code>&gt;</p><h5 id="options" tabindex="-1">_options <a class="header-anchor" href="#options" aria-label="Permalink to “_options”">​</a></h5><p><a href="./../interfaces/ModelOptions.html"><code>ModelOptions</code></a></p><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="delete" tabindex="-1">delete() <a class="header-anchor" href="#delete" aria-label="Permalink to “delete()”">​</a></h3><blockquote><p><strong>delete</strong>(<code>_modelName</code>, <code>_id</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-2" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-2" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="id" tabindex="-1">_id <a class="header-anchor" href="#id" aria-label="Permalink to “_id”">​</a></h5><p><code>string</code></p><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="deletebydocumentid" tabindex="-1">deleteByDocumentId() <a class="header-anchor" href="#deletebydocumentid" aria-label="Permalink to “deleteByDocumentId()”">​</a></h3><blockquote><p><strong>deleteByDocumentId</strong>(<code>_modelName</code>, <code>_docId</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Deletes all records for a specific document from the given model table. This is used when disconnecting a document to remove all its data.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-3" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-3" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="docid" tabindex="-1">_docId <a class="header-anchor" href="#docid" aria-label="Permalink to “_docId”">​</a></h5><p><code>string</code></p><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="destroy" tabindex="-1">destroy() <a class="header-anchor" href="#destroy" aria-label="Permalink to “destroy()”">​</a></h3><blockquote><p><code>abstract</code> <strong>destroy</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Destroys the database engine instance and releases any associated resources. This is crucial for cleanup, especially in testing environments or when the application is shutting down.</p><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="ensureready" tabindex="-1">ensureReady() <a class="header-anchor" href="#ensureready" aria-label="Permalink to “ensureReady()”">​</a></h3><blockquote><p><code>abstract</code> <strong>ensureReady</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Ensures that the database engine is fully initialized and ready for use. For WASM-based engines, this might involve loading the WASM module.</p><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="getlasterrormessage" tabindex="-1">getLastErrorMessage() <a class="header-anchor" href="#getlasterrormessage" aria-label="Permalink to “getLastErrorMessage()”">​</a></h3><blockquote><p><code>abstract</code> <strong>getLastErrorMessage</strong>(): <code>string</code> | <code>undefined</code></p></blockquote><p>Retrieves the last error message from the database engine, if any.</p><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code> | <code>undefined</code></p><p>The last error message as a string, or undefined if no error occurred.</p><hr><h3 id="gettablename" tabindex="-1">getTableName() <a class="header-anchor" href="#gettablename" aria-label="Permalink to “getTableName()”">​</a></h3><blockquote><p><strong>getTableName</strong>(<code>_modelName</code>): <code>string</code></p></blockquote><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-4" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-4" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code></p><hr><h3 id="gettableschema" tabindex="-1">getTableSchema() <a class="header-anchor" href="#gettableschema" aria-label="Permalink to “getTableSchema()”">​</a></h3><blockquote><p><code>abstract</code> <strong>getTableSchema</strong>(<code>tableName</code>): <code>Promise</code>&lt;<code>any</code>&gt;</p></blockquote><p>Retrieves the schema for a given table. This is useful for understanding table structure, field types, etc. The exact return type might vary based on the database engine.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="tablename" tabindex="-1">tableName <a class="header-anchor" href="#tablename" aria-label="Permalink to “tableName”">​</a></h5><p><code>string</code></p><p>The name of the table.</p><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>any</code>&gt;</p><p>A promise that resolves to the table schema information.</p><hr><h3 id="insert" tabindex="-1">insert() <a class="header-anchor" href="#insert" aria-label="Permalink to “insert()”">​</a></h3><blockquote><p><strong>insert</strong>(<code>_modelName</code>, <code>_data</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-5" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-5" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="data" tabindex="-1">_data <a class="header-anchor" href="#data" aria-label="Permalink to “_data”">​</a></h5><p><code>any</code></p><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="insertstringsetvalues" tabindex="-1">insertStringSetValues() <a class="header-anchor" href="#insertstringsetvalues" aria-label="Permalink to “insertStringSetValues()”">​</a></h3><blockquote><p><strong>insertStringSetValues</strong>(<code>_modelName</code>, <code>_fieldName</code>, <code>_recordId</code>, <code>_values</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-6" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-6" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="fieldname-1" tabindex="-1">_fieldName <a class="header-anchor" href="#fieldname-1" aria-label="Permalink to “_fieldName”">​</a></h5><p><code>string</code></p><h5 id="recordid" tabindex="-1">_recordId <a class="header-anchor" href="#recordid" aria-label="Permalink to “_recordId”">​</a></h5><p><code>string</code></p><h5 id="values" tabindex="-1">_values <a class="header-anchor" href="#values" aria-label="Permalink to “_values”">​</a></h5><p><code>string</code>[]</p><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="query" tabindex="-1">query() <a class="header-anchor" href="#query" aria-label="Permalink to “query()”">​</a></h3><blockquote><p><code>abstract</code> <strong>query</strong>(<code>sql</code>, <code>params?</code>): <code>Promise</code>&lt;<code>any</code>[]&gt;</p></blockquote><p>Executes a SQL query against the database.</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="sql" tabindex="-1">sql <a class="header-anchor" href="#sql" aria-label="Permalink to “sql”">​</a></h5><p><code>string</code></p><p>The SQL query string.</p><h5 id="params" tabindex="-1">params? <a class="header-anchor" href="#params" aria-label="Permalink to “params?”">​</a></h5><p><code>any</code>[]</p><p>Optional array of parameters for prepared statements.</p><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>any</code>[]&gt;</p><p>A promise that resolves to an array of query results.</p><hr><h3 id="removestringsetvalues" tabindex="-1">removeStringSetValues() <a class="header-anchor" href="#removestringsetvalues" aria-label="Permalink to “removeStringSetValues()”">​</a></h3><blockquote><p><strong>removeStringSetValues</strong>(<code>_modelName</code>, <code>_fieldName</code>, <code>_recordId</code>, <code>_values</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-7" tabindex="-1">_modelName <a class="header-anchor" href="#modelname-7" aria-label="Permalink to “_modelName”">​</a></h5><p><code>string</code></p><h5 id="fieldname-2" tabindex="-1">_fieldName <a class="header-anchor" href="#fieldname-2" aria-label="Permalink to “_fieldName”">​</a></h5><p><code>string</code></p><h5 id="recordid-1" tabindex="-1">_recordId <a class="header-anchor" href="#recordid-1" aria-label="Permalink to “_recordId”">​</a></h5><p><code>string</code></p><h5 id="values-1" tabindex="-1">_values <a class="header-anchor" href="#values-1" aria-label="Permalink to “_values”">​</a></h5><p><code>string</code>[]</p><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="withtransaction" tabindex="-1">withTransaction() <a class="header-anchor" href="#withtransaction" aria-label="Permalink to “withTransaction()”">​</a></h3><blockquote><p><strong>withTransaction</strong>&lt;<code>T</code>&gt;(<code>_callback</code>): <code>Promise</code>&lt;<code>T</code>&gt;</p></blockquote><h4 id="type-parameters" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t" tabindex="-1">T <a class="header-anchor" href="#t" aria-label="Permalink to “T”">​</a></h5><p><code>T</code></p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="callback" tabindex="-1">_callback <a class="header-anchor" href="#callback" aria-label="Permalink to “_callback”">​</a></h5><p>(<code>operations</code>) =&gt; <code>Promise</code>&lt;<code>T</code>&gt;</p><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code>&gt;</p>',154)])])}const p=a(d,[["render",s]]);export{b as __pageData,p as default};
