import{_ as a,c as r,o as t,aj as o}from"./chunks/framework.HLg5PcC2.js";const m=JSON.parse('{"title":"Class: BaseModel","description":"","frontmatter":{},"headers":[],"relativePath":"reference/js-bao/api/classes/BaseModel.md","filePath":"reference/js-bao/api/classes/BaseModel.md"}'),d={name:"reference/js-bao/api/classes/BaseModel.md"};function s(i,e,n,l,c,h){return t(),r("div",null,[...e[0]||(e[0]=[o(`<p><a href="./../README.html"><strong>js-bao</strong></a></p><hr><p><a href="./../globals.html">js-bao</a> / BaseModel</p><h1 id="class-basemodel" tabindex="-1">Class: BaseModel <a class="header-anchor" href="#class-basemodel" aria-label="Permalink to “Class: BaseModel”">​</a></h1><h2 id="implements" tabindex="-1">Implements <a class="header-anchor" href="#implements" aria-label="Permalink to “Implements”">​</a></h2><ul><li><code>StringSetChangeTracker</code></li></ul><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to “Constructors”">​</a></h2><h3 id="constructor" tabindex="-1">Constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to “Constructor”">​</a></h3><blockquote><p><strong>new BaseModel</strong>(<code>data</code>): <code>BaseModel</code></p></blockquote><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="data" tabindex="-1">data <a class="header-anchor" href="#data" aria-label="Permalink to “data”">​</a></h5><p><code>Partial</code>&lt;<code>any</code>&gt; = <code>{}</code></p><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h4><p><code>BaseModel</code></p><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to “Properties”">​</a></h2><h3 id="id" tabindex="-1">id <a class="header-anchor" href="#id" aria-label="Permalink to “id”">​</a></h3><blockquote><p><strong>id</strong>: <code>string</code></p></blockquote><hr><h3 id="type" tabindex="-1">type <a class="header-anchor" href="#type" aria-label="Permalink to “type”">​</a></h3><blockquote><p><strong>type</strong>: <code>string</code></p></blockquote><hr><h3 id="connecteddocuments" tabindex="-1">connectedDocuments <a class="header-anchor" href="#connecteddocuments" aria-label="Permalink to “connectedDocuments”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>connectedDocuments</strong>: <code>Map</code>&lt;<code>string</code>, { <code>permissionHint</code>: <a href="./../type-aliases/DocumentPermissionHint.html"><code>DocumentPermissionHint</code></a>; <code>yDoc</code>: <code>Doc</code>; }&gt;</p></blockquote><hr><h3 id="dbinstance" tabindex="-1">dbInstance <a class="header-anchor" href="#dbinstance" aria-label="Permalink to “dbInstance”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>dbInstance</strong>: <a href="./DatabaseEngine.html"><code>DatabaseEngine</code></a> | <code>null</code> = <code>null</code></p></blockquote><hr><h3 id="documentymaps" tabindex="-1">documentYMaps <a class="header-anchor" href="#documentymaps" aria-label="Permalink to “documentYMaps”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>documentYMaps</strong>: <code>Map</code>&lt;<code>string</code>, <code>YMap</code>&lt;<code>any</code>&gt;&gt;</p></blockquote><hr><h3 id="modelname" tabindex="-1">modelName? <a class="header-anchor" href="#modelname" aria-label="Permalink to “modelName?”">​</a></h3><blockquote><p><code>static</code> <code>optional</code> <strong>modelName</strong>: <code>string</code></p></blockquote><h2 id="accessors" tabindex="-1">Accessors <a class="header-anchor" href="#accessors" aria-label="Permalink to “Accessors”">​</a></h2><h3 id="hasunsavedchanges" tabindex="-1">hasUnsavedChanges <a class="header-anchor" href="#hasunsavedchanges" aria-label="Permalink to “hasUnsavedChanges”">​</a></h3><h4 id="get-signature" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature" aria-label="Permalink to “Get Signature”">​</a></h4><blockquote><p><strong>get</strong> <strong>hasUnsavedChanges</strong>(): <code>boolean</code></p></blockquote><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to “Returns”">​</a></h5><p><code>boolean</code></p><hr><h3 id="isdirty" tabindex="-1">isDirty <a class="header-anchor" href="#isdirty" aria-label="Permalink to “isDirty”">​</a></h3><h4 id="get-signature-1" tabindex="-1">Get Signature <a class="header-anchor" href="#get-signature-1" aria-label="Permalink to “Get Signature”">​</a></h4><blockquote><p><strong>get</strong> <strong>isDirty</strong>(): <code>boolean</code></p></blockquote><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to “Returns”">​</a></h5><p><code>boolean</code></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to “Methods”">​</a></h2><h3 id="delete" tabindex="-1">delete() <a class="header-anchor" href="#delete" aria-label="Permalink to “delete()”">​</a></h3><blockquote><p><strong>delete</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="discardchanges" tabindex="-1">discardChanges() <a class="header-anchor" href="#discardchanges" aria-label="Permalink to “discardChanges()”">​</a></h3><blockquote><p><strong>discardChanges</strong>(): <code>void</code></p></blockquote><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="getchangedfields" tabindex="-1">getChangedFields() <a class="header-anchor" href="#getchangedfields" aria-label="Permalink to “getChangedFields()”">​</a></h3><blockquote><p><strong>getChangedFields</strong>(): <code>string</code>[]</p></blockquote><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code>[]</p><hr><h3 id="getcurrentjsstate" tabindex="-1">getCurrentJSState() <a class="header-anchor" href="#getcurrentjsstate" aria-label="Permalink to “getCurrentJSState()”">​</a></h3><blockquote><p><code>protected</code> <strong>getCurrentJSState</strong>(): <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;</p></blockquote><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to “Returns”">​</a></h4><p><code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;</p><hr><h3 id="getcurrentvalue" tabindex="-1">getCurrentValue() <a class="header-anchor" href="#getcurrentvalue" aria-label="Permalink to “getCurrentValue()”">​</a></h3><blockquote><p><strong>getCurrentValue</strong>(<code>fieldKey</code>): <code>any</code></p></blockquote><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="fieldkey" tabindex="-1">fieldKey <a class="header-anchor" href="#fieldkey" aria-label="Permalink to “fieldKey”">​</a></h5><p><code>string</code></p><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to “Returns”">​</a></h4><p><code>any</code></p><hr><h3 id="getdocumentid" tabindex="-1">getDocumentId() <a class="header-anchor" href="#getdocumentid" aria-label="Permalink to “getDocumentId()”">​</a></h3><blockquote><p><strong>getDocumentId</strong>(): <code>string</code> | <code>null</code></p></blockquote><p>Returns the document id this instance is associated with, or null if not resolved yet.</p><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code> | <code>null</code></p><hr><h3 id="getoriginalvalue" tabindex="-1">getOriginalValue() <a class="header-anchor" href="#getoriginalvalue" aria-label="Permalink to “getOriginalValue()”">​</a></h3><blockquote><p><strong>getOriginalValue</strong>(<code>fieldKey</code>): <code>any</code></p></blockquote><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="fieldkey-1" tabindex="-1">fieldKey <a class="header-anchor" href="#fieldkey-1" aria-label="Permalink to “fieldKey”">​</a></h5><p><code>string</code></p><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to “Returns”">​</a></h4><p><code>any</code></p><hr><h3 id="hasfieldchanged" tabindex="-1">hasFieldChanged() <a class="header-anchor" href="#hasfieldchanged" aria-label="Permalink to “hasFieldChanged()”">​</a></h3><blockquote><p><strong>hasFieldChanged</strong>(<code>fieldKey</code>): <code>boolean</code></p></blockquote><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="fieldkey-2" tabindex="-1">fieldKey <a class="header-anchor" href="#fieldkey-2" aria-label="Permalink to “fieldKey”">​</a></h5><p><code>string</code></p><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to “Returns”">​</a></h4><p><code>boolean</code></p><hr><h3 id="markstringsetchange" tabindex="-1">markStringSetChange() <a class="header-anchor" href="#markstringsetchange" aria-label="Permalink to “markStringSetChange()”">​</a></h3><blockquote><p><strong>markStringSetChange</strong>(<code>fieldName</code>, <code>operation</code>, <code>value?</code>): <code>void</code></p></blockquote><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="fieldname" tabindex="-1">fieldName <a class="header-anchor" href="#fieldname" aria-label="Permalink to “fieldName”">​</a></h5><p><code>string</code></p><h5 id="operation" tabindex="-1">operation <a class="header-anchor" href="#operation" aria-label="Permalink to “operation”">​</a></h5><p><code>&quot;add&quot;</code> | <code>&quot;remove&quot;</code> | <code>&quot;clear&quot;</code></p><h5 id="value" tabindex="-1">value? <a class="header-anchor" href="#value" aria-label="Permalink to “value?”">​</a></h5><p><code>string</code></p><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><h4 id="implementation-of" tabindex="-1">Implementation of <a class="header-anchor" href="#implementation-of" aria-label="Permalink to “Implementation of”">​</a></h4><p><code>StringSetChangeTracker.markStringSetChange</code></p><hr><h3 id="save" tabindex="-1">save() <a class="header-anchor" href="#save" aria-label="Permalink to “save()”">​</a></h3><blockquote><p><strong>save</strong>(<code>options?</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="options" tabindex="-1">options? <a class="header-anchor" href="#options" aria-label="Permalink to “options?”">​</a></h5><p><a href="./../interfaces/SaveOptions.html"><code>SaveOptions</code></a></p><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="tojson" tabindex="-1">toJSON() <a class="header-anchor" href="#tojson" aria-label="Permalink to “toJSON()”">​</a></h3><blockquote><p><code>protected</code> <strong>toJSON</strong>(): <code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;</p></blockquote><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to “Returns”">​</a></h4><p><code>Record</code>&lt;<code>string</code>, <code>any</code>&gt;</p><hr><h3 id="validatebeforesave" tabindex="-1">validateBeforeSave() <a class="header-anchor" href="#validatebeforesave" aria-label="Permalink to “validateBeforeSave()”">​</a></h3><blockquote><p><code>protected</code> <strong>validateBeforeSave</strong>(): <code>void</code></p></blockquote><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="validatefieldvalue" tabindex="-1">validateFieldValue() <a class="header-anchor" href="#validatefieldvalue" aria-label="Permalink to “validateFieldValue()”">​</a></h3><blockquote><p><code>protected</code> <strong>validateFieldValue</strong>(<code>fieldKey</code>, <code>value</code>): <code>void</code></p></blockquote><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="fieldkey-3" tabindex="-1">fieldKey <a class="header-anchor" href="#fieldkey-3" aria-label="Permalink to “fieldKey”">​</a></h5><p><code>string</code></p><h5 id="value-1" tabindex="-1">value <a class="header-anchor" href="#value-1" aria-label="Permalink to “value”">​</a></h5><p><code>any</code></p><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="aggregate" tabindex="-1">aggregate() <a class="header-anchor" href="#aggregate" aria-label="Permalink to “aggregate()”">​</a></h3><blockquote><p><code>static</code> <strong>aggregate</strong>&lt;<code>T</code>&gt;(<code>this</code>, <code>options</code>): <code>Promise</code>&lt;<code>AggregationResult</code>&gt;</p></blockquote><p>Main aggregation API - performs grouping, faceting, and statistical operations</p><h4 id="type-parameters" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t" tabindex="-1">T <a class="header-anchor" href="#t" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this" tabindex="-1">this <a class="header-anchor" href="#this" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>T</code></p><h5 id="options-1" tabindex="-1">options <a class="header-anchor" href="#options-1" aria-label="Permalink to “options”">​</a></h5><p><code>AggregationOptions</code></p><p>Aggregation configuration with groupBy, operations, filter, limit, and sort</p><h4 id="returns-16" tabindex="-1">Returns <a class="header-anchor" href="#returns-16" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>AggregationResult</code>&gt;</p><p>Nested object structure with aggregation results</p><h4 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to “Examples”">​</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Simple facet count</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tagCounts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aggregate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  groupBy: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tags&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  operations: [{ type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;count&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Result: { red: 15, blue: 8, green: 12 }</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Multi-dimensional grouping with multiple operations</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> categoryStats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aggregate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  groupBy: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;category&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;status&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  operations: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;count&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sum&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, field: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;amount&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;avg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, field: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;score&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filter: { active: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sort: { field: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;count&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, direction: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;desc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// StringSet membership grouping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> urgentCounts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aggregate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  groupBy: [{ field: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tags&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, contains: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;urgent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  operations: [{ type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;count&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Result: { true: 5, false: 23 }</span></span></code></pre></div><hr><h3 id="attachfieldaccessors" tabindex="-1">attachFieldAccessors() <a class="header-anchor" href="#attachfieldaccessors" aria-label="Permalink to “attachFieldAccessors()”">​</a></h3><blockquote><p><code>static</code> <strong>attachFieldAccessors</strong>(<code>modelClass</code>, <code>fields</code>): <code>void</code></p></blockquote><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelclass" tabindex="-1">modelClass <a class="header-anchor" href="#modelclass" aria-label="Permalink to “modelClass”">​</a></h5><p><em>typeof</em> <code>BaseModel</code></p><h5 id="fields" tabindex="-1">fields <a class="header-anchor" href="#fields" aria-label="Permalink to “fields”">​</a></h5><p><code>Map</code>&lt;<code>string</code>, <a href="./../interfaces/FieldOptions.html"><code>FieldOptions</code></a>&gt;</p><h4 id="returns-17" tabindex="-1">Returns <a class="header-anchor" href="#returns-17" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="buildaggregationquery" tabindex="-1">buildAggregationQuery() <a class="header-anchor" href="#buildaggregationquery" aria-label="Permalink to “buildAggregationQuery()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>buildAggregationQuery</strong>(<code>options</code>, <code>schema</code>, <code>modelName</code>): <code>AggregationQueryPlan</code></p></blockquote><p>Build SQL query for structured aggregation</p><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="options-2" tabindex="-1">options <a class="header-anchor" href="#options-2" aria-label="Permalink to “options”">​</a></h5><p><code>AggregationOptions</code></p><h5 id="schema" tabindex="-1">schema <a class="header-anchor" href="#schema" aria-label="Permalink to “schema”">​</a></h5><p><code>any</code></p><h5 id="modelname-1" tabindex="-1">modelName <a class="header-anchor" href="#modelname-1" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-18" tabindex="-1">Returns <a class="header-anchor" href="#returns-18" aria-label="Permalink to “Returns”">​</a></h4><p><code>AggregationQueryPlan</code></p><hr><h3 id="buildregularaggregationquery" tabindex="-1">buildRegularAggregationQuery() <a class="header-anchor" href="#buildregularaggregationquery" aria-label="Permalink to “buildRegularAggregationQuery()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>buildRegularAggregationQuery</strong>(<code>regularGroupBy</code>, <code>stringSetMemberships</code>, <code>options</code>, <code>translator</code>, <code>modelName</code>): <code>AggregationQueryPlan</code></p></blockquote><p>Build query for regular field aggregation</p><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="regulargroupby" tabindex="-1">regularGroupBy <a class="header-anchor" href="#regulargroupby" aria-label="Permalink to “regularGroupBy”">​</a></h5><p><code>string</code>[]</p><h5 id="stringsetmemberships" tabindex="-1">stringSetMemberships <a class="header-anchor" href="#stringsetmemberships" aria-label="Permalink to “stringSetMemberships”">​</a></h5><p><code>StringSetMembership</code>[]</p><h5 id="options-3" tabindex="-1">options <a class="header-anchor" href="#options-3" aria-label="Permalink to “options”">​</a></h5><p><code>AggregationOptions</code></p><h5 id="translator" tabindex="-1">translator <a class="header-anchor" href="#translator" aria-label="Permalink to “translator”">​</a></h5><p><code>DocumentQueryTranslator</code></p><h5 id="modelname-2" tabindex="-1">modelName <a class="header-anchor" href="#modelname-2" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-19" tabindex="-1">Returns <a class="header-anchor" href="#returns-19" aria-label="Permalink to “Returns”">​</a></h4><p><code>AggregationQueryPlan</code></p><hr><h3 id="buildstringsetfacetquery" tabindex="-1">buildStringSetFacetQuery() <a class="header-anchor" href="#buildstringsetfacetquery" aria-label="Permalink to “buildStringSetFacetQuery()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>buildStringSetFacetQuery</strong>(<code>stringSetFields</code>, <code>options</code>, <code>translator</code>, <code>modelName</code>): <code>AggregationQueryPlan</code></p></blockquote><p>Build query for StringSet facet counts</p><h4 id="parameters-11" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-11" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="stringsetfields" tabindex="-1">stringSetFields <a class="header-anchor" href="#stringsetfields" aria-label="Permalink to “stringSetFields”">​</a></h5><p><code>string</code>[]</p><h5 id="options-4" tabindex="-1">options <a class="header-anchor" href="#options-4" aria-label="Permalink to “options”">​</a></h5><p><code>AggregationOptions</code></p><h5 id="translator-1" tabindex="-1">translator <a class="header-anchor" href="#translator-1" aria-label="Permalink to “translator”">​</a></h5><p><code>DocumentQueryTranslator</code></p><h5 id="modelname-3" tabindex="-1">modelName <a class="header-anchor" href="#modelname-3" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-20" tabindex="-1">Returns <a class="header-anchor" href="#returns-20" aria-label="Permalink to “Returns”">​</a></h4><p><code>AggregationQueryPlan</code></p><hr><h3 id="cleanupdocumentdata" tabindex="-1">cleanupDocumentData() <a class="header-anchor" href="#cleanupdocumentdata" aria-label="Permalink to “cleanupDocumentData()”">​</a></h3><blockquote><p><code>static</code> <strong>cleanupDocumentData</strong>(<code>docId</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-12" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-12" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="docid" tabindex="-1">docId <a class="header-anchor" href="#docid" aria-label="Permalink to “docId”">​</a></h5><p><code>string</code></p><h4 id="returns-21" tabindex="-1">Returns <a class="header-anchor" href="#returns-21" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="clearglobaldefaultdocumentid" tabindex="-1">clearGlobalDefaultDocumentId() <a class="header-anchor" href="#clearglobaldefaultdocumentid" aria-label="Permalink to “clearGlobalDefaultDocumentId()”">​</a></h3><blockquote><p><code>static</code> <strong>clearGlobalDefaultDocumentId</strong>(): <code>void</code></p></blockquote><h4 id="returns-22" tabindex="-1">Returns <a class="header-anchor" href="#returns-22" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="clearmodeldefaultdocumentids" tabindex="-1">clearModelDefaultDocumentIds() <a class="header-anchor" href="#clearmodeldefaultdocumentids" aria-label="Permalink to “clearModelDefaultDocumentIds()”">​</a></h3><blockquote><p><code>static</code> <strong>clearModelDefaultDocumentIds</strong>(): <code>void</code></p></blockquote><h4 id="returns-23" tabindex="-1">Returns <a class="header-anchor" href="#returns-23" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="count" tabindex="-1">count() <a class="header-anchor" href="#count" aria-label="Permalink to “count()”">​</a></h3><blockquote><p><code>static</code> <strong>count</strong>(<code>this</code>, <code>filter</code>, <code>options?</code>): <code>Promise</code>&lt;<code>number</code>&gt;</p></blockquote><p>Document-style count API</p><h4 id="parameters-13" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-13" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-1" tabindex="-1">this <a class="header-anchor" href="#this-1" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>any</code></p><h5 id="filter" tabindex="-1">filter <a class="header-anchor" href="#filter" aria-label="Permalink to “filter”">​</a></h5><p><a href="./../type-aliases/DocumentFilter.html"><code>DocumentFilter</code></a> = <code>{}</code></p><h5 id="options-5" tabindex="-1">options? <a class="header-anchor" href="#options-5" aria-label="Permalink to “options?”">​</a></h5><p><code>Pick</code>&lt;<a href="./../interfaces/QueryOptions.html"><code>QueryOptions</code></a>, <code>&quot;documents&quot;</code>&gt;</p><h4 id="returns-24" tabindex="-1">Returns <a class="header-anchor" href="#returns-24" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>number</code>&gt;</p><hr><h3 id="find" tabindex="-1">find() <a class="header-anchor" href="#find" aria-label="Permalink to “find()”">​</a></h3><blockquote><p><code>static</code> <strong>find</strong>&lt;<code>T</code>&gt;(<code>this</code>, <code>id</code>): <code>Promise</code>&lt;<code>T</code> | <code>null</code>&gt;</p></blockquote><h4 id="type-parameters-1" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-1" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-1" tabindex="-1">T <a class="header-anchor" href="#t-1" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h4 id="parameters-14" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-14" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-2" tabindex="-1">this <a class="header-anchor" href="#this-2" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>T</code></p><h5 id="id-1" tabindex="-1">id <a class="header-anchor" href="#id-1" aria-label="Permalink to “id”">​</a></h5><p><code>string</code></p><h4 id="returns-25" tabindex="-1">Returns <a class="header-anchor" href="#returns-25" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code> | <code>null</code>&gt;</p><hr><h3 id="findall" tabindex="-1">findAll() <a class="header-anchor" href="#findall" aria-label="Permalink to “findAll()”">​</a></h3><blockquote><p><code>static</code> <strong>findAll</strong>&lt;<code>T</code>&gt;(<code>this</code>): <code>Promise</code>&lt;<code>T</code>[]&gt;</p></blockquote><h4 id="type-parameters-2" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-2" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-2" tabindex="-1">T <a class="header-anchor" href="#t-2" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h4 id="parameters-15" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-15" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-3" tabindex="-1">this <a class="header-anchor" href="#this-3" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>T</code></p><h4 id="returns-26" tabindex="-1">Returns <a class="header-anchor" href="#returns-26" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code>[]&gt;</p><hr><h3 id="findbyunique" tabindex="-1">findByUnique() <a class="header-anchor" href="#findbyunique" aria-label="Permalink to “findByUnique()”">​</a></h3><blockquote><p><code>static</code> <strong>findByUnique</strong>&lt;<code>T</code>&gt;(<code>this</code>, <code>constraintName</code>, <code>value</code>): <code>Promise</code>&lt;<code>T</code> | <code>null</code>&gt;</p></blockquote><h4 id="type-parameters-3" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-3" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-3" tabindex="-1">T <a class="header-anchor" href="#t-3" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h4 id="parameters-16" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-16" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-4" tabindex="-1">this <a class="header-anchor" href="#this-4" aria-label="Permalink to “this”">​</a></h5><p><em>typeof</em> <code>BaseModel</code> &amp; (...<code>args</code>) =&gt; <code>T</code></p><h5 id="constraintname" tabindex="-1">constraintName <a class="header-anchor" href="#constraintname" aria-label="Permalink to “constraintName”">​</a></h5><p><code>string</code></p><h5 id="value-2" tabindex="-1">value <a class="header-anchor" href="#value-2" aria-label="Permalink to “value”">​</a></h5><p><code>any</code></p><h4 id="returns-27" tabindex="-1">Returns <a class="header-anchor" href="#returns-27" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code> | <code>null</code>&gt;</p><hr><h3 id="getdatabasejunctiontablename" tabindex="-1">getDatabaseJunctionTableName() <a class="header-anchor" href="#getdatabasejunctiontablename" aria-label="Permalink to “getDatabaseJunctionTableName()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>getDatabaseJunctionTableName</strong>(<code>modelName</code>, <code>fieldName</code>): <code>string</code></p></blockquote><p>Get the proper database junction table name for StringSet fields</p><h4 id="parameters-17" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-17" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-4" tabindex="-1">modelName <a class="header-anchor" href="#modelname-4" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h5 id="fieldname-1" tabindex="-1">fieldName <a class="header-anchor" href="#fieldname-1" aria-label="Permalink to “fieldName”">​</a></h5><p><code>string</code></p><h4 id="returns-28" tabindex="-1">Returns <a class="header-anchor" href="#returns-28" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code></p><hr><h3 id="getdatabasetablename" tabindex="-1">getDatabaseTableName() <a class="header-anchor" href="#getdatabasetablename" aria-label="Permalink to “getDatabaseTableName()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>getDatabaseTableName</strong>(<code>modelName</code>): <code>string</code></p></blockquote><p>Get the proper database table name (should match database engine naming)</p><h4 id="parameters-18" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-18" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-5" tabindex="-1">modelName <a class="header-anchor" href="#modelname-5" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-29" tabindex="-1">Returns <a class="header-anchor" href="#returns-29" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code></p><hr><h3 id="getdocumentidformodel" tabindex="-1">getDocumentIdForModel() <a class="header-anchor" href="#getdocumentidformodel" aria-label="Permalink to “getDocumentIdForModel()”">​</a></h3><blockquote><p><code>static</code> <strong>getDocumentIdForModel</strong>(<code>modelName</code>): <code>string</code> | <code>undefined</code></p></blockquote><h4 id="parameters-19" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-19" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-6" tabindex="-1">modelName <a class="header-anchor" href="#modelname-6" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-30" tabindex="-1">Returns <a class="header-anchor" href="#returns-30" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code> | <code>undefined</code></p><hr><h3 id="getglobaldefaultdocumentid" tabindex="-1">getGlobalDefaultDocumentId() <a class="header-anchor" href="#getglobaldefaultdocumentid" aria-label="Permalink to “getGlobalDefaultDocumentId()”">​</a></h3><blockquote><p><code>static</code> <strong>getGlobalDefaultDocumentId</strong>(): <code>string</code> | <code>undefined</code></p></blockquote><h4 id="returns-31" tabindex="-1">Returns <a class="header-anchor" href="#returns-31" aria-label="Permalink to “Returns”">​</a></h4><p><code>string</code> | <code>undefined</code></p><hr><h3 id="getloglevel" tabindex="-1">getLogLevel() <a class="header-anchor" href="#getloglevel" aria-label="Permalink to “getLogLevel()”">​</a></h3><blockquote><p><code>static</code> <strong>getLogLevel</strong>(): <a href="./../enumerations/LogLevel.html"><code>LogLevel</code></a></p></blockquote><h4 id="returns-32" tabindex="-1">Returns <a class="header-anchor" href="#returns-32" aria-label="Permalink to “Returns”">​</a></h4><p><a href="./../enumerations/LogLevel.html"><code>LogLevel</code></a></p><hr><h3 id="getmodeldefaultdocumentmapping" tabindex="-1">getModelDefaultDocumentMapping() <a class="header-anchor" href="#getmodeldefaultdocumentmapping" aria-label="Permalink to “getModelDefaultDocumentMapping()”">​</a></h3><blockquote><p><code>static</code> <strong>getModelDefaultDocumentMapping</strong>(): <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</p></blockquote><h4 id="returns-33" tabindex="-1">Returns <a class="header-anchor" href="#returns-33" aria-label="Permalink to “Returns”">​</a></h4><p><code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</p><hr><h3 id="initialize" tabindex="-1">initialize() <a class="header-anchor" href="#initialize" aria-label="Permalink to “initialize()”">​</a></h3><blockquote><p><code>static</code> <strong>initialize</strong>(<code>_yDoc</code>, <code>_db</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-20" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-20" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="ydoc" tabindex="-1">_yDoc <a class="header-anchor" href="#ydoc" aria-label="Permalink to “_yDoc”">​</a></h5><p><code>Doc</code></p><h5 id="db" tabindex="-1">_db <a class="header-anchor" href="#db" aria-label="Permalink to “_db”">​</a></h5><p><a href="./DatabaseEngine.html"><code>DatabaseEngine</code></a></p><h4 id="returns-34" tabindex="-1">Returns <a class="header-anchor" href="#returns-34" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="initializefordocument" tabindex="-1">initializeForDocument() <a class="header-anchor" href="#initializefordocument" aria-label="Permalink to “initializeForDocument()”">​</a></h3><blockquote><p><code>static</code> <strong>initializeForDocument</strong>(<code>yDoc</code>, <code>db</code>, <code>docId</code>, <code>permissionHint</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><h4 id="parameters-21" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-21" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="ydoc-1" tabindex="-1">yDoc <a class="header-anchor" href="#ydoc-1" aria-label="Permalink to “yDoc”">​</a></h5><p><code>Doc</code></p><h5 id="db-1" tabindex="-1">db <a class="header-anchor" href="#db-1" aria-label="Permalink to “db”">​</a></h5><p><a href="./DatabaseEngine.html"><code>DatabaseEngine</code></a></p><h5 id="docid-1" tabindex="-1">docId <a class="header-anchor" href="#docid-1" aria-label="Permalink to “docId”">​</a></h5><p><code>string</code></p><h5 id="permissionhint" tabindex="-1">permissionHint <a class="header-anchor" href="#permissionhint" aria-label="Permalink to “permissionHint”">​</a></h5><p><a href="./../type-aliases/DocumentPermissionHint.html"><code>DocumentPermissionHint</code></a></p><h4 id="returns-35" tabindex="-1">Returns <a class="header-anchor" href="#returns-35" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="migratetonestedymaps" tabindex="-1">migrateToNestedYMaps() <a class="header-anchor" href="#migratetonestedymaps" aria-label="Permalink to “migrateToNestedYMaps()”">​</a></h3><blockquote><p><code>static</code> <strong>migrateToNestedYMaps</strong>(): <code>Promise</code>&lt;<code>void</code>&gt;</p></blockquote><p>Legacy migration method - no longer needed in the new multidoc architecture. Data migration is now handled during document initialization.</p><h4 id="returns-36" tabindex="-1">Returns <a class="header-anchor" href="#returns-36" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>void</code>&gt;</p><hr><h3 id="notifylisteners" tabindex="-1">notifyListeners() <a class="header-anchor" href="#notifylisteners" aria-label="Permalink to “notifyListeners()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>notifyListeners</strong>(): <code>void</code></p></blockquote><h4 id="returns-37" tabindex="-1">Returns <a class="header-anchor" href="#returns-37" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="ondefaultdocchanged" tabindex="-1">onDefaultDocChanged() <a class="header-anchor" href="#ondefaultdocchanged" aria-label="Permalink to “onDefaultDocChanged()”">​</a></h3><blockquote><p><code>static</code> <strong>onDefaultDocChanged</strong>(<code>listener</code>): () =&gt; <code>void</code></p></blockquote><h4 id="parameters-22" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-22" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="listener" tabindex="-1">listener <a class="header-anchor" href="#listener" aria-label="Permalink to “listener”">​</a></h5><p>(<code>payload</code>) =&gt; <code>void</code></p><h4 id="returns-38" tabindex="-1">Returns <a class="header-anchor" href="#returns-38" aria-label="Permalink to “Returns”">​</a></h4><blockquote><p>(): <code>void</code></p></blockquote><h5 id="returns-39" tabindex="-1">Returns <a class="header-anchor" href="#returns-39" aria-label="Permalink to “Returns”">​</a></h5><p><code>void</code></p><hr><h3 id="onmodeldocmappingchanged" tabindex="-1">onModelDocMappingChanged() <a class="header-anchor" href="#onmodeldocmappingchanged" aria-label="Permalink to “onModelDocMappingChanged()”">​</a></h3><blockquote><p><code>static</code> <strong>onModelDocMappingChanged</strong>(<code>listener</code>): () =&gt; <code>void</code></p></blockquote><h4 id="parameters-23" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-23" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="listener-1" tabindex="-1">listener <a class="header-anchor" href="#listener-1" aria-label="Permalink to “listener”">​</a></h5><p>(<code>payload</code>) =&gt; <code>void</code></p><h4 id="returns-40" tabindex="-1">Returns <a class="header-anchor" href="#returns-40" aria-label="Permalink to “Returns”">​</a></h4><blockquote><p>(): <code>void</code></p></blockquote><h5 id="returns-41" tabindex="-1">Returns <a class="header-anchor" href="#returns-41" aria-label="Permalink to “Returns”">​</a></h5><p><code>void</code></p><hr><h3 id="processaggregationresults" tabindex="-1">processAggregationResults() <a class="header-anchor" href="#processaggregationresults" aria-label="Permalink to “processAggregationResults()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>processAggregationResults</strong>(<code>results</code>, <code>options</code>, <code>aliasMetadata?</code>): <code>AggregationResult</code></p></blockquote><p>Process aggregation results into nested structure</p><h4 id="parameters-24" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-24" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="results" tabindex="-1">results <a class="header-anchor" href="#results" aria-label="Permalink to “results”">​</a></h5><p><code>any</code>[]</p><h5 id="options-6" tabindex="-1">options <a class="header-anchor" href="#options-6" aria-label="Permalink to “options”">​</a></h5><p><code>AggregationOptions</code></p><h5 id="aliasmetadata" tabindex="-1">aliasMetadata? <a class="header-anchor" href="#aliasmetadata" aria-label="Permalink to “aliasMetadata?”">​</a></h5><p><code>AggregationAliasDetail</code>[]</p><h4 id="returns-42" tabindex="-1">Returns <a class="header-anchor" href="#returns-42" aria-label="Permalink to “Returns”">​</a></h4><p><code>AggregationResult</code></p><hr><h3 id="query" tabindex="-1">query() <a class="header-anchor" href="#query" aria-label="Permalink to “query()”">​</a></h3><blockquote><p><code>static</code> <strong>query</strong>&lt;<code>T</code>, <code>P</code>&gt;(<code>this</code>, <code>filter</code>, <code>options?</code>): <code>Promise</code>&lt;<a href="./../interfaces/PaginatedResult.html"><code>PaginatedResult</code></a>&lt;<a href="./../type-aliases/QueryResult.html"><code>QueryResult</code></a>&lt;<code>T</code>, <code>P</code>&gt;&gt;&gt;</p></blockquote><p>Document-style query API - returns paginated results</p><h4 id="type-parameters-4" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-4" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-4" tabindex="-1">T <a class="header-anchor" href="#t-4" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h5 id="p" tabindex="-1">P <a class="header-anchor" href="#p" aria-label="Permalink to “P”">​</a></h5><p><code>P</code> <em>extends</em> <a href="./../type-aliases/ProjectionSpec.html"><code>ProjectionSpec</code></a> | <code>undefined</code> = <code>undefined</code></p><h4 id="parameters-25" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-25" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-5" tabindex="-1">this <a class="header-anchor" href="#this-5" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>T</code></p><h5 id="filter-1" tabindex="-1">filter <a class="header-anchor" href="#filter-1" aria-label="Permalink to “filter”">​</a></h5><p><a href="./../type-aliases/DocumentFilter.html"><code>DocumentFilter</code></a> = <code>{}</code></p><h5 id="options-7" tabindex="-1">options? <a class="header-anchor" href="#options-7" aria-label="Permalink to “options?”">​</a></h5><p><a href="./../interfaces/QueryOptions.html"><code>QueryOptions</code></a> &amp; <code>object</code></p><h4 id="returns-43" tabindex="-1">Returns <a class="header-anchor" href="#returns-43" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<a href="./../interfaces/PaginatedResult.html"><code>PaginatedResult</code></a>&lt;<a href="./../type-aliases/QueryResult.html"><code>QueryResult</code></a>&lt;<code>T</code>, <code>P</code>&gt;&gt;&gt;</p><hr><h3 id="queryone" tabindex="-1">queryOne() <a class="header-anchor" href="#queryone" aria-label="Permalink to “queryOne()”">​</a></h3><blockquote><p><code>static</code> <strong>queryOne</strong>&lt;<code>T</code>, <code>P</code>&gt;(<code>this</code>, <code>filter</code>, <code>options?</code>): <code>Promise</code>&lt;<a href="./../type-aliases/QueryResult.html"><code>QueryResult</code></a>&lt;<code>T</code>, <code>P</code>&gt; | <code>null</code>&gt;</p></blockquote><p>Document-style query API - returns single result or null</p><h4 id="type-parameters-5" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-5" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-5" tabindex="-1">T <a class="header-anchor" href="#t-5" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h5 id="p-1" tabindex="-1">P <a class="header-anchor" href="#p-1" aria-label="Permalink to “P”">​</a></h5><p><code>P</code> <em>extends</em> <a href="./../type-aliases/ProjectionSpec.html"><code>ProjectionSpec</code></a> | <code>undefined</code> = <code>undefined</code></p><h4 id="parameters-26" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-26" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-6" tabindex="-1">this <a class="header-anchor" href="#this-6" aria-label="Permalink to “this”">​</a></h5><p>(...<code>args</code>) =&gt; <code>T</code></p><h5 id="filter-2" tabindex="-1">filter <a class="header-anchor" href="#filter-2" aria-label="Permalink to “filter”">​</a></h5><p><a href="./../type-aliases/DocumentFilter.html"><code>DocumentFilter</code></a> = <code>{}</code></p><h5 id="options-8" tabindex="-1">options? <a class="header-anchor" href="#options-8" aria-label="Permalink to “options?”">​</a></h5><p><code>Omit</code>&lt;<a href="./../interfaces/QueryOptions.html"><code>QueryOptions</code></a>, <code>&quot;limit&quot;</code> | <code>&quot;uniqueStartKey&quot;</code> | <code>&quot;direction&quot;</code>&gt; &amp; <code>object</code></p><h4 id="returns-44" tabindex="-1">Returns <a class="header-anchor" href="#returns-44" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<a href="./../type-aliases/QueryResult.html"><code>QueryResult</code></a>&lt;<code>T</code>, <code>P</code>&gt; | <code>null</code>&gt;</p><hr><h3 id="removemodeldefaultdocumentid" tabindex="-1">removeModelDefaultDocumentId() <a class="header-anchor" href="#removemodeldefaultdocumentid" aria-label="Permalink to “removeModelDefaultDocumentId()”">​</a></h3><blockquote><p><code>static</code> <strong>removeModelDefaultDocumentId</strong>(<code>modelName</code>): <code>void</code></p></blockquote><h4 id="parameters-27" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-27" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-7" tabindex="-1">modelName <a class="header-anchor" href="#modelname-7" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h4 id="returns-45" tabindex="-1">Returns <a class="header-anchor" href="#returns-45" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="setglobaldefaultdocumentid" tabindex="-1">setGlobalDefaultDocumentId() <a class="header-anchor" href="#setglobaldefaultdocumentid" aria-label="Permalink to “setGlobalDefaultDocumentId()”">​</a></h3><blockquote><p><code>static</code> <strong>setGlobalDefaultDocumentId</strong>(<code>docId</code>): <code>void</code></p></blockquote><h4 id="parameters-28" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-28" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="docid-2" tabindex="-1">docId <a class="header-anchor" href="#docid-2" aria-label="Permalink to “docId”">​</a></h5><p><code>string</code></p><h4 id="returns-46" tabindex="-1">Returns <a class="header-anchor" href="#returns-46" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="setloglevel" tabindex="-1">setLogLevel() <a class="header-anchor" href="#setloglevel" aria-label="Permalink to “setLogLevel()”">​</a></h3><blockquote><p><code>static</code> <strong>setLogLevel</strong>(<code>level</code>): <code>void</code></p></blockquote><h4 id="parameters-29" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-29" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="level" tabindex="-1">level <a class="header-anchor" href="#level" aria-label="Permalink to “level”">​</a></h5><p><a href="./../enumerations/LogLevel.html"><code>LogLevel</code></a></p><h4 id="returns-47" tabindex="-1">Returns <a class="header-anchor" href="#returns-47" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="setmodeldefaultdocumentid" tabindex="-1">setModelDefaultDocumentId() <a class="header-anchor" href="#setmodeldefaultdocumentid" aria-label="Permalink to “setModelDefaultDocumentId()”">​</a></h3><blockquote><p><code>static</code> <strong>setModelDefaultDocumentId</strong>(<code>modelName</code>, <code>docId</code>): <code>void</code></p></blockquote><h4 id="parameters-30" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-30" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="modelname-8" tabindex="-1">modelName <a class="header-anchor" href="#modelname-8" aria-label="Permalink to “modelName”">​</a></h5><p><code>string</code></p><h5 id="docid-3" tabindex="-1">docId <a class="header-anchor" href="#docid-3" aria-label="Permalink to “docId”">​</a></h5><p><code>string</code></p><h4 id="returns-48" tabindex="-1">Returns <a class="header-anchor" href="#returns-48" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="setupnestedymapobserver" tabindex="-1">setupNestedYMapObserver() <a class="header-anchor" href="#setupnestedymapobserver" aria-label="Permalink to “setupNestedYMapObserver()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>setupNestedYMapObserver</strong>(<code>recordId</code>, <code>recordYMap</code>): <code>void</code></p></blockquote><p>Sets up deep observation on a nested YMap to sync field-level changes to the database</p><h4 id="parameters-31" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-31" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="recordid" tabindex="-1">recordId <a class="header-anchor" href="#recordid" aria-label="Permalink to “recordId”">​</a></h5><p><code>string</code></p><h5 id="recordymap" tabindex="-1">recordYMap <a class="header-anchor" href="#recordymap" aria-label="Permalink to “recordYMap”">​</a></h5><p><code>YMap</code>&lt;<code>any</code>&gt;</p><h4 id="returns-49" tabindex="-1">Returns <a class="header-anchor" href="#returns-49" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="setupnestedymapobserverfordocument" tabindex="-1">setupNestedYMapObserverForDocument() <a class="header-anchor" href="#setupnestedymapobserverfordocument" aria-label="Permalink to “setupNestedYMapObserverForDocument()”">​</a></h3><blockquote><p><code>protected</code> <code>static</code> <strong>setupNestedYMapObserverForDocument</strong>(<code>recordId</code>, <code>recordYMap</code>, <code>docId</code>, <code>permissionHint</code>): <code>void</code></p></blockquote><p>Sets up deep observation on a nested YMap for a specific document to sync field-level changes to the database</p><h4 id="parameters-32" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-32" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="recordid-1" tabindex="-1">recordId <a class="header-anchor" href="#recordid-1" aria-label="Permalink to “recordId”">​</a></h5><p><code>string</code></p><h5 id="recordymap-1" tabindex="-1">recordYMap <a class="header-anchor" href="#recordymap-1" aria-label="Permalink to “recordYMap”">​</a></h5><p><code>YMap</code>&lt;<code>any</code>&gt;</p><h5 id="docid-4" tabindex="-1">docId <a class="header-anchor" href="#docid-4" aria-label="Permalink to “docId”">​</a></h5><p><code>string</code></p><h5 id="permissionhint-1" tabindex="-1">permissionHint <a class="header-anchor" href="#permissionhint-1" aria-label="Permalink to “permissionHint”">​</a></h5><p><a href="./../type-aliases/DocumentPermissionHint.html"><code>DocumentPermissionHint</code></a></p><h4 id="returns-50" tabindex="-1">Returns <a class="header-anchor" href="#returns-50" aria-label="Permalink to “Returns”">​</a></h4><p><code>void</code></p><hr><h3 id="subscribe" tabindex="-1">subscribe() <a class="header-anchor" href="#subscribe" aria-label="Permalink to “subscribe()”">​</a></h3><blockquote><p><code>static</code> <strong>subscribe</strong>(<code>callback</code>): () =&gt; <code>void</code></p></blockquote><h4 id="parameters-33" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-33" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="callback" tabindex="-1">callback <a class="header-anchor" href="#callback" aria-label="Permalink to “callback”">​</a></h5><p>() =&gt; <code>void</code></p><h4 id="returns-51" tabindex="-1">Returns <a class="header-anchor" href="#returns-51" aria-label="Permalink to “Returns”">​</a></h4><blockquote><p>(): <code>void</code></p></blockquote><h5 id="returns-52" tabindex="-1">Returns <a class="header-anchor" href="#returns-52" aria-label="Permalink to “Returns”">​</a></h5><p><code>void</code></p><hr><h3 id="upsertbyunique" tabindex="-1">upsertByUnique() <a class="header-anchor" href="#upsertbyunique" aria-label="Permalink to “upsertByUnique()”">​</a></h3><blockquote><p><code>static</code> <strong>upsertByUnique</strong>&lt;<code>T</code>&gt;(<code>this</code>, <code>constraintName</code>, <code>uniqueLookupValue</code>, <code>dataToUpsert</code>, <code>options?</code>): <code>Promise</code>&lt;<code>T</code>&gt;</p></blockquote><h4 id="type-parameters-6" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-6" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-6" tabindex="-1">T <a class="header-anchor" href="#t-6" aria-label="Permalink to “T”">​</a></h5><p><code>T</code> <em>extends</em> <code>BaseModel</code></p><h4 id="parameters-34" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-34" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="this-7" tabindex="-1">this <a class="header-anchor" href="#this-7" aria-label="Permalink to “this”">​</a></h5><p><em>typeof</em> <code>BaseModel</code> &amp; (...<code>args</code>) =&gt; <code>T</code></p><h5 id="constraintname-1" tabindex="-1">constraintName <a class="header-anchor" href="#constraintname-1" aria-label="Permalink to “constraintName”">​</a></h5><p><code>string</code></p><h5 id="uniquelookupvalue" tabindex="-1">uniqueLookupValue <a class="header-anchor" href="#uniquelookupvalue" aria-label="Permalink to “uniqueLookupValue”">​</a></h5><p><code>any</code></p><h5 id="datatoupsert" tabindex="-1">dataToUpsert <a class="header-anchor" href="#datatoupsert" aria-label="Permalink to “dataToUpsert”">​</a></h5><p><code>Partial</code>&lt;<code>Omit</code>&lt;<code>T</code>, keyof BaseModel | <code>&quot;toJSON&quot;</code>&gt;&gt; &amp; <code>object</code></p><h5 id="options-9" tabindex="-1">options? <a class="header-anchor" href="#options-9" aria-label="Permalink to “options?”">​</a></h5><h6 id="objectmustexist" tabindex="-1">objectMustExist? <a class="header-anchor" href="#objectmustexist" aria-label="Permalink to “objectMustExist?”">​</a></h6><p><code>boolean</code></p><h6 id="objectmustnotexist" tabindex="-1">objectMustNotExist? <a class="header-anchor" href="#objectmustnotexist" aria-label="Permalink to “objectMustNotExist?”">​</a></h6><p><code>boolean</code></p><h6 id="targetdocument" tabindex="-1">targetDocument? <a class="header-anchor" href="#targetdocument" aria-label="Permalink to “targetDocument?”">​</a></h6><p><code>string</code></p><h4 id="returns-53" tabindex="-1">Returns <a class="header-anchor" href="#returns-53" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code>&gt;</p><hr><h3 id="withtransaction" tabindex="-1">withTransaction() <a class="header-anchor" href="#withtransaction" aria-label="Permalink to “withTransaction()”">​</a></h3><blockquote><p><code>static</code> <strong>withTransaction</strong>&lt;<code>T</code>&gt;(<code>callback</code>): <code>Promise</code>&lt;<code>T</code>&gt;</p></blockquote><p>Execute a callback with automatic transaction handling for all modified models</p><h4 id="type-parameters-7" tabindex="-1">Type Parameters <a class="header-anchor" href="#type-parameters-7" aria-label="Permalink to “Type Parameters”">​</a></h4><h5 id="t-7" tabindex="-1">T <a class="header-anchor" href="#t-7" aria-label="Permalink to “T”">​</a></h5><p><code>T</code></p><h4 id="parameters-35" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-35" aria-label="Permalink to “Parameters”">​</a></h4><h5 id="callback-1" tabindex="-1">callback <a class="header-anchor" href="#callback-1" aria-label="Permalink to “callback”">​</a></h5><p>() =&gt; <code>T</code> | <code>Promise</code>&lt;<code>T</code>&gt;</p><h4 id="returns-54" tabindex="-1">Returns <a class="header-anchor" href="#returns-54" aria-label="Permalink to “Returns”">​</a></h4><p><code>Promise</code>&lt;<code>T</code>&gt;</p>`,534)])])}const u=a(d,[["render",s]]);export{m as __pageData,u as default};
